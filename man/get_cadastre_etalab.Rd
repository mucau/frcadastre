% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_cadastre_etalab.R
\name{get_cadastre_etalab}
\alias{get_cadastre_etalab}
\title{Download and read cadastre data from Etalab for a given INSEE code}
\usage{
get_cadastre_etalab(
  insee_code,
  data = NULL,
  extract_dir = NULL,
  overwrite = TRUE,
  ...
)
}
\arguments{
\item{insee_code}{Character. The INSEE code for the commune or area to download data for.}

\item{data}{Character vector or NULL. Specific datasets to download (e.g., \code{"parcelle"}, \code{"numvoie"}).
If \code{NULL}, all available datasets for the INSEE code are retrieved.}

\item{extract_dir}{Character or NULL. Directory path where downloaded files are extracted.
If \code{NULL}, a temporary unique directory is created automatically.}

\item{overwrite}{Logical. Whether to overwrite existing downloaded files. Default is \code{TRUE}.}

\item{...}{Additional arguments passed to \code{etalab_get_data_urls()}.}
}
\value{
A named list of \code{sf} objects containing the downloaded and read spatial data.
Each list element corresponds to a dataset (e.g., \code{"parcelle"}, \code{"numvoie"}), aggregated
from one or more GeoJSON files.
}
\description{
This function retrieves URLs for cadastre datasets from Etalab based on the
provided INSEE code and optional data types, downloads and extracts the files
into a specified directory, then reads all extracted GeoJSON files as \code{sf}
objects. The data are aggregated and returned as a named list of \code{sf} objects.
}
\details{
The function performs the following steps:
\enumerate{
\item Retrieve download URLs from Etalab using \code{etalab_get_data_urls()}.
\item Download and extract all requested files into \code{extract_dir}.
\item Read all extracted GeoJSON files using \code{read_geojson()}, which aggregates data by dataset name.
}

The \code{extract_dir} is created as a unique temporary directory if not provided,
ensuring that multiple calls do not interfere with each other's files.
}
\examples{
\dontrun{
# Download and read all cadastre datasets for INSEE code 72188
cadastre_data <- get_cadastre_etalab("72188")

# Download only parcelle and numvoie data, specifying an extraction directory
cadastre_data <- get_cadastre_etalab("72188", data = c("parcelle", "numvoie"), extract_dir = "data/cadastre")
}

}
