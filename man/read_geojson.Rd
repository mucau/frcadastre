% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_read.R
\name{read_geojson}
\alias{read_geojson}
\title{Read and aggregate GeoJSON data from files or URLs}
\usage{
read_geojson(sources, type = c("file", "url"))
}
\arguments{
\item{sources}{A character vector of file paths or URLs to GeoJSON/JSON files.}

\item{type}{Character. Either \code{"file"} or \code{"url"}. Determines how the sources
are read. \code{"file"} uses \code{read_geojson_file()}, \code{"url"} uses \code{read_geojson_url()}.}
}
\value{
Either a single \code{sf} object if only one unique layer is found, or a
named list of \code{sf} objects for multiple layers. Names correspond to the
extracted base names from the sources.
}
\description{
This function reads one or more GeoJSON or JSON sources (optionally compressed
with \code{.gz}) from either local files or URLs. Files/sources are grouped and
aggregated by their base name (after removing extensions and the prefix
before the last \code{-}). If multiple sources share the same base name, they are
merged into a single \code{sf} object using \code{rbind}.
}
\details{
File/URL names are processed as follows:
\enumerate{
\item Remove the \code{.gz} extension if present.
\item Remove the \code{.geojson} or \code{.json} extension.
\item Keep only the part after the last dash (\code{-}).
}

For files, gzipped sources are decompressed into a temporary location before reading.
}
\examples{
\dontrun{
# Read all GeoJSON files from a directory
dir_files <- list.files("path/to/geojson_dir", full.names = TRUE)
data_list <- read_geojson(dir_files, type = "file")

# Read GeoJSON data from URLs
urls <- c("https://example.com/layer1.geojson",
          "https://example.com/layer2.geojson")
data_list <- read_geojson(urls, type = "url")

# Access a specific aggregated layer
my_layer <- data_list[["numvoie"]]
}

}
\keyword{internal}
